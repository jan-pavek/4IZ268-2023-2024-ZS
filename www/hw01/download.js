const fs = require('fs');
const path = require('path');
const axios = require('axios');
const bluebird = require('bluebird');

const ensureDirectoryExistence = (filePath) => {
    var dirname = path.dirname(filePath);
    if (fs.existsSync(dirname)) {
        return true;
    }
    ensureDirectoryExistence(dirname);
    fs.mkdirSync(dirname);
};

const urls = [
//     'https://eso.vse.cz/~pank09/cv01/',
//     'https://eso.vse.cz/~pank09/cv01/test/',
//     'https://eso.vse.cz/~pank09/cv01/blog/',
//     'https://eso.vse.cz/~pank09/cv01/resume/',
//     'https://eso.vse.cz/~lubv00/cv01/',
//     'https://eso.vse.cz/~lubv00/cv01/test/',
//     'https://eso.vse.cz/~lubv00/cv01/blog/',
//     'https://eso.vse.cz/~lubv00/cv01/resume/',
//     'https://eso.vse.cz/~egea00/cv01/',
//     'https://eso.vse.cz/~egea00/cv01/about_me/',
//     'https://eso.vse.cz/~egea00/cv01/references/',
//     'https://eso.vse.cz/~egea00/cv01/contact/',
//     'https://eso.vse.cz/~vlcj07/cv01/',
//     'https://eso.vse.cz/~vlcj07/cv01/test/',
//     'https://eso.vse.cz/~vlcj07/cv01/blog/',
//     'https://eso.vse.cz/~vlcj07/cv01/resume/',
//     'https://eso.vse.cz/~lism08/cv01/',
//     'https://eso.vse.cz/~lism08/cv01/blog/',
//     'https://eso.vse.cz/~lism08/cv01/test/',
//     'https://eso.vse.cz/~lism08/cv01/resume/',
//     'https://eso.vse.cz/~hujl00/cv01/',
//     'https://eso.vse.cz/~hujl00/cv01/blog/',
//     'https://eso.vse.cz/~hujl00/cv01/resume/',
//     'https://eso.vse.cz/~hujl00/cv01/test/',
//     'https://eso.vse.cz/~talp03/cv01/',
//     'https://eso.vse.cz/~talp03/cv01/test/',
//     'https://eso.vse.cz/~talp03/cv01/blog/',
//     'https://eso.vse.cz/~talp03/cv01/resume/',
//     'https://eso.vse.cz/~talp03/cv01/book/',
//     'https://eso.vse.cz/~talp03/cv01/book/chapter1/',
//     'https://eso.vse.cz/~talp03/cv01/book/chapter2/',
//     'https://eso.vse.cz/~talp03/cv01/book/chapter3/',
//     'https://eso.vse.cz/~bobd03/DU1/',
//     'https://eso.vse.cz/~bobd03/DU1/test/',
//     'https://eso.vse.cz/~bobd03/DU1/blog/',
//     'https://eso.vse.cz/~bobd03/DU1/resume/',
//     'https://eso.vse.cz/~shla01/cv01/',
//     'https://eso.vse.cz/~shla01/cv01/test/',
//     'https://eso.vse.cz/~shla01/cv01/blog/',
//     'https://eso.vse.cz/~shla01/cv01/resume/',
//     'https://eso.vse.cz/~zolf00/cv01/',
//     'https://eso.vse.cz/~zolf00/cv01/test/',
//     'https://eso.vse.cz/~zolf00/cv01/blog/',
//     'https://eso.vse.cz/~zolf00/cv01/resume/',
//     'https://eso.vse.cz/~stra24/cv01/',
//     'https://eso.vse.cz/~stra24/cv01/test/',
//     'https://eso.vse.cz/~stra24/cv01/blog/',
//     'https://eso.vse.cz/~stra24/cv01/resume/',
//     'https://eso.vse.cz/~sykv01/cv01/',
//     'https://eso.vse.cz/~sykv01/cv01/test/',
//     'https://eso.vse.cz/~sykv01/cv01/blog/',
//     'https://eso.vse.cz/~sykv01/cv01/resume/',
//     'https://eso.vse.cz/~peta25/cv01/',
//     'https://eso.vse.cz/~peta25/cv01/test/',
//     'https://eso.vse.cz/~peta25/cv01/blog/',
//     'https://eso.vse.cz/~peta25/cv01/resume/',
//     'https://eso.vse.cz/~peta25/cv01/book/',
//     'https://eso.vse.cz/~peta25/cv01/book/chapter1/',
//     'https://eso.vse.cz/~peta25/cv01/book/chapter2/',
//     'https://eso.vse.cz/~peta25/cv01/book/chapter3/',
//     'https://eso.vse.cz/~juha00/cv01/',
//     'https://eso.vse.cz/~juha00/cv01/test/',
//     'https://eso.vse.cz/~juha00/cv01/blog/',
//     'https://eso.vse.cz/~juha00/cv01/resume/',
//     'https://eso.vse.cz/~juha00/cv01/book/',
//     'https://eso.vse.cz/~juha00/cv01/book/chapter1/',
//     'https://eso.vse.cz/~juha00/cv01/book/chapter2/',
//     'https://eso.vse.cz/~juha00/cv01/book/chapter3/',
//     'https://eso.vse.cz/~telo00/cv01/',
//     'https://eso.vse.cz/~telo00/cv01/test/',
//     'https://eso.vse.cz/~telo00/cv01/blog/',
//     'https://eso.vse.cz/~telo00/cv01/resume/',
//     'https://eso.vse.cz/~malj17/cv01/',
//     'https://eso.vse.cz/~malj17/cv01/test/',
//     'https://eso.vse.cz/~malj17/cv01/blog/',
//     'https://eso.vse.cz/~malj17/cv01/resume/',
//     'https://eso.vse.cz/~kudj05/cv01/',
//     'https://eso.vse.cz/~kudj05/cv01/test/',
//     'https://eso.vse.cz/~kudj05/cv01/blog/',
//     'https://eso.vse.cz/~kudj05/cv01/resume/',
//     'https://eso.vse.cz/~kadm09/cv01/',
//     'https://eso.vse.cz/~kadm09/cv01/blog/',
//     'https://eso.vse.cz/~kadm09/cv01/resume/',
//     'https://eso.vse.cz/~kadm09/cv01/test/',
//     'https://eso.vse.cz/~kadm09/cv01/book/',
//     'https://eso.vse.cz/~kadm09/cv01/book/chapter1/',
//     'https://eso.vse.cz/~kadm09/cv01/book/chapter2/',
//     'https://eso.vse.cz/~kadm09/cv01/book/chapter3/',
//     'https://eso.vse.cz/~adad05/cv01/',
//     'https://eso.vse.cz/~adad05/cv01/test/',
//     'https://eso.vse.cz/~adad05/cv01/blog/',
//     'https://eso.vse.cz/~adad05/cv01/resume/',
//     'https://eso.vse.cz/~mata29/cv01/',
//     'https://eso.vse.cz/~mata29/cv01/test/',
//     'https://eso.vse.cz/~mata29/cv01/blog/',
//     'https://eso.vse.cz/~mata29/cv01/resume/',
//     'https://eso.vse.cz/~mati04/cv01/',
//     'https://eso.vse.cz/~mati04/cv01/test/',
//     'https://eso.vse.cz/~mati04/cv01/blog/',
//     'https://eso.vse.cz/~mati04/cv01/resume/',
//     'https://eso.vse.cz/~mati04/cv01/book/',
//     'https://eso.vse.cz/~mati04/cv01/book/chapter1/',
//     'https://eso.vse.cz/~mati04/cv01/book/chapter2/',
//     'https://eso.vse.cz/~mati04/cv01/book/chapter3/',
//     'https://eso.vse.cz/~stik05/cv01/',
//     'https://eso.vse.cz/~stik05/cv01/Test/',
//     'https://eso.vse.cz/~stik05/cv01/Blog/',
//     'https://eso.vse.cz/~stik05/cv01/Resume/',
//     'https://eso.vse.cz/~urbf01/cv01/',
//     'https://eso.vse.cz/~urbf01/cv01/test/',
//     'https://eso.vse.cz/~urbf01/cv01/blog/',
//     'https://eso.vse.cz/~urbf01/cv01/resume/',
//     'https://eso.vse.cz/~kire02/cv01/',
//     'https://eso.vse.cz/~kire02/cv01/test/',
//     'https://eso.vse.cz/~kire02/cv01/blog/',
//     'https://eso.vse.cz/~kire02/cv01/resume/',
//     'https://eso.vse.cz/~mala24/cv01/',
//     'https://eso.vse.cz/~mala24/cv01/test/',
//     'https://eso.vse.cz/~mala24/cv01/blog/',
//     'https://eso.vse.cz/~mala24/cv01/resume/',
//     'https://eso.vse.cz/~brud06/cv01/',
//     'https://eso.vse.cz/~brud06/cv01/test/',
//     'https://eso.vse.cz/~brud06/cv01/blog/',
//     'https://eso.vse.cz/~brud06/cv01/resume/',
//     'https://eso.vse.cz/~brud06/cv01/book/',
//     'https://eso.vse.cz/~brud06/cv01/book/chapter1/',
//     'https://eso.vse.cz/~brud06/cv01/book/chapter2/',
//     'https://eso.vse.cz/~brud06/cv01/book/chapter3/',
//     'https://eso.vse.cz/~kuzd02/cv01/',
//     'https://eso.vse.cz/~kuzd02/cv01/test/',
//     'https://eso.vse.cz/~kuzd02/cv01/blog/',
//     'https://eso.vse.cz/~kuzd02/cv01/resume/',
//     'https://eso.vse.cz/~lanj21/cv01/',
//     'https://eso.vse.cz/~lanj21/cv01/test/',
//     'https://eso.vse.cz/~lanj21/cv01/blog/',
//     'https://eso.vse.cz/~lanj21/cv01/resume/',
//     'https://eso.vse.cz/~kond12/cv01/',
//     'https://eso.vse.cz/~kond12/cv01/test/',
//     'https://eso.vse.cz/~kond12/cv01/blog/',
//     'https://eso.vse.cz/~kond12/cv01/resume/',
//     'https://eso.vse.cz/~mata30/cv01/',
//     'https://eso.vse.cz/~mata30/cv01/resume/',
//     'https://eso.vse.cz/~mata30/cv01/blog/',
//     'https://eso.vse.cz/~mata30/cv01/test/',
//     'https://eso.vse.cz/~mata30/cv01/book/',
//     'https://eso.vse.cz/~mata30/cv01/book/chapter1/',
//     'https://eso.vse.cz/~mata30/cv01/book/chapter2/',
//     'https://eso.vse.cz/~mata30/cv01/book/chapter3/',
//     'https://eso.vse.cz/~lanm16/cv01/',
//     'https://eso.vse.cz/~lanm16/cv01/blog/',
//     'https://eso.vse.cz/~lanm16/cv01/resume/',
//     'https://eso.vse.cz/~lanm16/cv01/test/',
//     'https://eso.vse.cz/~hrak04/cv01/',
//     'https://eso.vse.cz/~hrak04/cv01/test/',
//     'https://eso.vse.cz/~hrak04/cv01/blog/',
//     'https://eso.vse.cz/~hrak04/cv01/resume/',
//     'https://eso.vse.cz/~voze00/cv01/',
//     'https://eso.vse.cz/~voze00/cv01/test/',
//     'https://eso.vse.cz/~voze00/cv01/blog/',
//     'https://eso.vse.cz/~voze00/cv01/resume/',
//     'https://eso.vse.cz/~curm01/cv01/',
//     'https://eso.vse.cz/~curm01/cv01/test/',
//     'https://eso.vse.cz/~curm01/cv01/blog/',
//     'https://eso.vse.cz/~curm01/cv01/resume/',
//     'https://eso.vse.cz/~shei03/cv01/',
//     'https://eso.vse.cz/~shei03/cv01/blog/',
//     'https://eso.vse.cz/~shei03/cv01/test/',
//     'https://eso.vse.cz/~shei03/cv01/resume/',
//     'https://eso.vse.cz/~hore06/cv01/',
//     'https://eso.vse.cz/~hore06/cv01/resume/',
//     'https://eso.vse.cz/~hore06/cv01/test/',
//     'https://eso.vse.cz/~hore06/cv01/blog/',
//     'https://eso.vse.cz/~hore06/cv01/book/',
//     'https://eso.vse.cz/~hore06/cv01/book/chapter1/',
//     'https://eso.vse.cz/~hore06/cv01/book/chapter2/',
//     'https://eso.vse.cz/~hore06/cv01/book/chapter3/',
//     'https://eso.vse.cz/~kvaj02/cv01/',
//     'https://eso.vse.cz/~kvaj02/cv01/blog/',
//     'https://eso.vse.cz/~kvaj02/cv01/resume/',
//     'https://eso.vse.cz/~kvaj02/cv01/test/',
//     'https://eso.vse.cz/~svaa03/cv01/',
//     'https://eso.vse.cz/~svaa03/cv01/test/',
//     'https://eso.vse.cz/~svaa03/cv01/blog/',
//     'https://eso.vse.cz/~svaa03/cv01/resume/',
//     'https://eso.vse.cz/~wole00/cv01/',
//     'https://eso.vse.cz/~wole00/cv01/test/',
//     'https://eso.vse.cz/~wole00/cv01/blog/',
//     'https://eso.vse.cz/~wole00/cv01/resume/',
//     'https://eso.vse.cz/~mact13/cv01/',
//     'https://eso.vse.cz/~mact13/cv01/test/',
//     'https://eso.vse.cz/~mact13/cv01/blog/',
//     'https://eso.vse.cz/~mact13/cv01/resume/',
//     'https://eso.vse.cz/~mact13/bonus01/',
//     'https://eso.vse.cz/~mact13/bonus01/kapitola1/',
//     'https://eso.vse.cz/~mact13/bonus01/kapitola2/',
//     'https://eso.vse.cz/~mact13/bonus01/kapitola3/',
//     'https://eso.vse.cz/~kadv05/cv01/',
//     'https://eso.vse.cz/~kadv05/cv01/test/',
//     'https://eso.vse.cz/~kadv05/cv01/blog/',
//     'https://eso.vse.cz/~kadv05/cv01/resume/',

//     'https://eso.vse.cz/~jure01/task01/',
//     'https://eso.vse.cz/~jure01/task01/blog.html',
//     'https://eso.vse.cz/~jure01/task01/resume.html',
//     'https://eso.vse.cz/~jure01/task01/test.html',


// 'https://eso.vse.cz/~knyd00/cv02/',
// 'https://eso.vse.cz/~knyd00/cv02/test/',
// 'https://eso.vse.cz/~knyd00/cv02/blog/',
// 'https://eso.vse.cz/~knyd00/cv03/resume/',

// 'https://eso.vse.cz/~draj08/cv01/',
// 'https://eso.vse.cz/~draj08/cv01/test/',
// 'https://eso.vse.cz/~draj08/cv01/blog/',
// 'https://eso.vse.cz/~draj08/cv01/resume/',

    'https://eso.vse.cz/~sime06/cv01/',
    'https://eso.vse.cz/~sime06/cv01/test/',
    'https://eso.vse.cz/~sime06/cv01/blog/',
    'https://eso.vse.cz/~sime06/cv01/resume/',
    'https://eso.vse.cz/~janj56/du1/',
    'https://eso.vse.cz/~janj56/du1/test/',
    'https://eso.vse.cz/~janj56/du1/blog/',
    'https://eso.vse.cz/~janj56/du1/resume/',
    'https://eso.vse.cz/~vanm34/cv01/',
    'https://eso.vse.cz/~vanm34/cv01/resume/',
    'https://eso.vse.cz/~vanm34/cv01/test/',
    'https://eso.vse.cz/~vanm34/cv01/blog/',
    'https://eso.vse.cz/~biko00/cv01/',
    'https://eso.vse.cz/~biko00/cv01/test/',
    'https://eso.vse.cz/~biko00/cv01/blog/',
    'https://eso.vse.cz/~biko00/cv01/resume/',
    'https://eso.vse.cz/~mald10/du1/',
    'https://eso.vse.cz/~mald10/du1/test/',
    'https://eso.vse.cz/~mald10/du1/blog/',
    'https://eso.vse.cz/~mald10/du1/resume/',
    'https://eso.vse.cz/~lozd00/cv01/',
    'https://eso.vse.cz/~lozd00/cv01/test/',
    'https://eso.vse.cz/~lozd00/cv01/blog/',
    'https://eso.vse.cz/~lozd00/cv01/resume/',
    'https://eso.vse.cz/~burl09/cv01/',
    'https://eso.vse.cz/~burl09/cv01/test/',
    'https://eso.vse.cz/~burl09/cv01/blog/',
    'https://eso.vse.cz/~burl09/cv01/resume',
    'https://eso.vse.cz/~binj02/cv01/homepage/index.html',
    'https://eso.vse.cz/~binj02/cv01/test/index.html',
    'https://eso.vse.cz/~binj02/cv01/blog/index.html',
    'https://eso.vse.cz/~binj02/cv01/resume/index.html',
    'https://eso.vse.cz/~pavj12/cv01/',
    'https://eso.vse.cz/~pavj12/cv01/test',
    'https://eso.vse.cz/~pavj12/cv01/blog',
    'https://eso.vse.cz/~pavj12/cv01/resume',
    'https://eso.vse.cz/~elcs00/cv01/',
    'https://eso.vse.cz/~elcs00/cv01/test/',
    'https://eso.vse.cz/~elcs00/cv01/resume/',
    'https://eso.vse.cz/~elcs00/cv01/blog/',
].map((url) => {
        if (url.endsWith('.html')) {
            return url;
        }
        return `${url.endsWith('/') ? url : `${url}/`}index.html`;
    });

bluebird.each(urls, (url) => {
    return axios.get(url).then((resp) => {
        const filePath = `./${url.split('/').slice(3).join('/').slice(1).replace('cv01/', '')}`;
        ensureDirectoryExistence(filePath);
        fs.writeFileSync(filePath, resp.data);
    }).catch((err) => {
        console.log(url);
    });
});

